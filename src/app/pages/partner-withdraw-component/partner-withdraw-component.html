<div class="withdraw-container">

  <!-- Header -->
  <div class="top-bar">
    <h2>{{language==='EN'?'ЁЯТ╕ Partner Withdrawal':'ЁЯТ╕ рдкрд╛рд░реНрдЯрдирд░ рдирд┐рдХрд╛рд╕реА'}}</h2>
    <button class="lang-btn" (click)="toggleLang()">ЁЯМР {{language}}</button>
  </div>

  <!-- Date -->
  <label>{{language==='EN'?'Date':'рддрд╛рд░реАрдЦ'}}</label>
  <input type="date" [(ngModel)]="date">

  <!-- Add Withdrawal -->
  <div class="card">
    <h3>{{language==='EN'?'Add Withdrawal':'рдирд┐рдХрд╛рд╕реА рдЬреЛрдбрд╝реЗрдВ'}}</h3>

    <select [(ngModel)]="partnerId" (change)="onPartnerChange()">
      <option *ngFor="let p of partners" [value]="p.id">{{p.partner_name}}</option>
    </select>

    <input type="number" placeholder="Amount" [(ngModel)]="amount">
    <input placeholder="Remarks (optional)" [(ngModel)]="remarks">

    <button class="save-btn" (click)="saveWithdraw()">ЁЯТ╛ Save</button>
  </div>

  <!-- Table -->
  <div class="card">
    <h3>ЁЯУТ Withdrawal History</h3>

    <div class="table-wrapper">
      <table class="withdraw-table">
        <tr>
          <th>Date</th>
          <th>Partner</th>
          <th>Amount</th>
          <th>Remarks</th>
        </tr>

        <tr *ngFor="let r of records; let i = index">
          <td>{{formatDateToDDMMYYYY(r.date)}}</td>
          <td>{{r.partner_id}}</td>
          <td>тВ╣{{r.amount}}</td>
          <td>{{r.description}}</td>
        </tr>
      </table>
    </div>

    <!-- Pagination -->
    <div class="pagination">
      <button (click)="prevPage()">тмЕ Prev</button>
      <span>Page {{page+1}}</span>
      <button (click)="nextPage()">Next тЮб</button>
      <button class="refresh-btn" (click)="refreshTable()">ЁЯФД Refresh</button>
    </div>

  </div>

</div>

<!-- Loader -->
<div *ngIf="loading" class="loader-overlay">
  <div class="loader-box">тП│ Loading...</div>
</div>
